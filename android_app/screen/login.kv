#:import login widgets.login.login.login
#:import state widgets.state

<LoginScreen@Screen>:
    host_name: host_name.__self__
    username: username.__self__
    password: password.__self__
    login_action_bar: login_action_bar.__self__
    # info_bubble: info_bubble.__self__
    message: 'LoginScreen'

    RelativeLayout:
        size_hint: None, None
        size: root.width, root.height / 5
        pos: 0, root.height / 2 - root.height / (4 * 2)
        BoxLayout:
            orientation: 'vertical'

            BoxLayout:
                orientation: 'horizontal'

                Label:
                    text: 'Host'

                TextInput:
                    id: host_name
                    text: state.host
                    multiline: False
                    on_text:
                        app.set_state_host()

            BoxLayout:
                orientation: 'horizontal'

                Label:
                    text: 'Username'

                TextInput:
                    id: username
                    text: state.username
                    multiline: False
                    on_text:
                        app.set_state_username()

            BoxLayout:
                orientation: 'horizontal'

                Label:
                    text: 'Password'

                TextInput:
                    id: password
                    text: state.password
                    password: True
                    multiline: False
                    on_text:
                        app.set_state_password()

            BoxLayout:
                orientation: 'horizontal'

                Label:
                    text: ''

                Button:
                    text: 'Log In'
                    on_release:
                        login()

    ActionBar:
        id: login_action_bar

        ActionView:
            use_seperator: True
            ActionPrevious:
                title: 'Watering control system'
                with_previous: False

    # Bubble:
    #     info_bubble: info_bubble.__self__
    #     message: ''
    #     background_image: ''
    #     background_color: (1., 1., 1., 0.1)
    #     size_hint: None, None
    #     show_arrow: False
    #     pos_hint: {'center_y': 0.15, 'right': 1}
    #     size: dp(200), info_bubble.texture_size[1] + dp(20)
    #     Label:
    #         id: info_bubble
    #         text: root.message
    #         background_color: (0., 1, 1, 1)
