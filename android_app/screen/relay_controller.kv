#:import RelayControlersLayout widgets.relay_controller.relay_controller.RelayControllersLayout
#:import logout widgets.relay_controller.logout.logout

<RelayControllerScreen@Screen>:
    action_bar: action_bar.__self__
    relay_controller_layout: relay_controller_layout.__self__
    # info_bubble: info_bubble.__self__

    on_enter:
        root.ids.relay_controller_layout.update_relay_widgets()

    ActionBar:
        id: action_bar
        ActionView:
            use_seperator: True
            ActionPrevious:
                title: 'Relays control'
                with_previous: False

            ActionOverflow:
                ActionButton:
                    text: 'Clear'
                    on_press: relay_controller_layout.delete_all_schedule()

                ActionButton:
                    text: 'Send to Host'
                    on_press: relay_controller_layout.send_schedule_to_host()

                ActionButton:
                    text: 'Log Out'
                    on_press: logout()

    # Bubble:
    #     info_bubble: info_bubble.__self__
    #     message: 'empty message'
    #     background_color: (1, 1, 1, 0.5)
    #     size_hint: None, None
    #     show_arrow: False
    #     pos_hint: {'center_y': 0.2, 'right': 1}
    #     size: dp(200), info_bubble.texture_size[1] + dp(20)
    #     Label:
    #         id: info_bubble
    #         text: root.message

    RelayControllersLayout:
        id: relay_controller_layout
